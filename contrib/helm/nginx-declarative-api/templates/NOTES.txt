ğŸ‰ NGINX Declarative API has been deployed!

Release name : {{ .Release.Name }}
Namespace    : {{ include "nginx-declarative-api.namespace" . }}
Chart version: {{ .Chart.Version }}
App version  : {{ include "nginx-declarative-api.appVersion" . }} (nginx-dapi image tag)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Components deployed
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
{{- if .Values.nginxDapi.enabled }}
âœ… nginx-dapi   â†’ {{ include "nginx-declarative-api.fullname" . }}-nginx-dapi:{{ .Values.nginxDapi.service.port }}
{{- else }}
â¬œ nginx-dapi   â†’ disabled
{{- end }}
{{- if .Values.redis.enabled }}
âœ… redis        â†’ {{ include "nginx-declarative-api.fullname" . }}-redis:{{ .Values.redis.service.port }}
{{- else }}
â¬œ redis        â†’ disabled
{{- end }}
{{- if .Values.devportal.enabled }}
âœ… devportal    â†’ {{ include "nginx-declarative-api.fullname" . }}-devportal:{{ .Values.devportal.service.port }}
{{- else }}
â¬œ devportal    â†’ disabled
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Accessing the API
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
{{- if .Values.ingress.enabled }}
The API is exposed via Ingress:
  http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.host }}/

  Swagger UI  : http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.host }}/docs
  ReDoc       : http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.host }}/redoc
  OpenAPI JSON: http{{ if .Values.ingress.tls }}s{{ end }}://{{ .Values.ingress.host }}/openapi.json
{{- else }}
Port-forward to access the API:

  kubectl port-forward --namespace {{ include "nginx-declarative-api.namespace" . }} \
    svc/{{ include "nginx-declarative-api.fullname" . }}-nginx-dapi 5000:{{ .Values.nginxDapi.service.port }}

  Then open: http://localhost:5000/docs
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Useful commands
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Check pod status
kubectl get pods -n {{ include "nginx-declarative-api.namespace" . }} -l app.kubernetes.io/instance={{ .Release.Name }}

# Stream nginx-dapi logs
kubectl logs -n {{ include "nginx-declarative-api.namespace" . }} -l app.kubernetes.io/component=nginx-dapi -f

# Upgrade the release
helm upgrade {{ .Release.Name }} ./nginx-declarative-api -n {{ include "nginx-declarative-api.namespace" . }}

# Uninstall
helm uninstall {{ .Release.Name }} -n {{ include "nginx-declarative-api.namespace" . }}
